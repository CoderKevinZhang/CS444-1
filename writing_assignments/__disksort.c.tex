\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kt}{void} \PY{n}{disksort}\PY{p}{(}
      \PY{n}{drive} \PY{n}{queue} \PY{o}{*}\PY{n}{dq}\PY{p}{,}
      \PY{n}{buffer} \PY{o}{*}\PY{n}{bp}\PY{p}{)}\PY{p}{;}
\PY{p}{\PYZob{}}
   \PY{k}{if}\PY{p}{(}\PY{n}{active} \PY{n}{list} \PY{n}{is} \PY{n}{empty}\PY{p}{)} \PY{p}{\PYZob{}}
      \PY{n}{place} \PY{n}{the} \PY{n}{buffer} \PY{n}{at} \PY{n}{the} \PY{n}{front} \PY{n}{of} \PY{n}{the} \PY{n}{active} \PY{n}{list}\PY{p}{;}
      \PY{k}{return}\PY{p}{;}
   \PY{p}{\PYZcb{}}
   \PY{k}{if}\PY{p}{(}\PY{n}{request} \PY{n}{lies} \PY{n}{before} \PY{n}{the} \PY{n}{first} \PY{n}{active} \PY{n}{request}\PY{p}{)} \PY{p}{\PYZob{}}
      \PY{n}{locate} \PY{n}{the} \PY{n}{beginning} \PY{n}{of} \PY{n}{the} \PY{n}{next}\PY{o}{-}\PY{n}{pass} \PY{n}{list}\PY{p}{;}
      \PY{n}{sort} \PY{n}{bp} \PY{n}{into} \PY{n}{the} \PY{n}{next}\PY{o}{-}\PY{n}{pass} \PY{n}{list}\PY{p}{;}
   \PY{p}{\PYZcb{}} \PY{k}{else}
      \PY{n}{sort} \PY{n}{bp} \PY{n}{into} \PY{n}{the} \PY{n}{active} \PY{n}{list}\PY{p}{;}
\PY{p}{\PYZcb{}}
\end{Verbatim}
